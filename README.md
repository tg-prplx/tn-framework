# üìñ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –Ω–æ–≤–µ–ª–ª –Ω–∞ –¥–≤–∏–∂–∫–µ**

## üé≠ **–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ**
–≠—Ç–æ—Ç –¥–≤–∏–∂–æ–∫ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –Ω–æ–≤–µ–ª–ª –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
- **–°—Ü–µ–Ω** üìú
- **–ü–µ—Ä—Å–æ–Ω–∞–∂–µ–π** üé≠
- **–§–æ–Ω–æ–≤—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** üñº (—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ ASCII)
- **Lua-—Å–∫—Ä–∏–ø—Ç–æ–≤** üñ• (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ü–µ–Ω, –≤—ã–±–æ—Ä—ã, –ª–æ–≥–∏–∫–∞)
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∏** üíæ

---

## üõ† **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python **3.8+**.
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```sh
   pip install rich numpy opencv-python lupa
   ```
3. **–°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞**:
   ```
   ‚îú‚îÄ‚îÄ main.py               # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è –∑–∞–ø—É—Å–∫–∞
   ‚îú‚îÄ‚îÄ main.theme            # –§–∞–π–ª —Ç–µ–º—ã
   ‚îú‚îÄ‚îÄ scenes/               # –ü–∞–ø–∫–∞ —Å–æ —Å—Ü–µ–Ω–∞–º–∏
   ‚îÇ   ‚îú‚îÄ‚îÄ scene1.json       # JSON-—Ñ–∞–π–ª —Å—Ü–µ–Ω—ã
   ‚îÇ   ‚îú‚îÄ‚îÄ scene2.json
   ‚îú‚îÄ‚îÄ images/               # –§–æ–Ω–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   ‚îÇ   ‚îú‚îÄ‚îÄ nah.webp
   ‚îú‚îÄ‚îÄ scripts/              # Lua-—Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Å—Ü–µ–Ω
   ‚îÇ   ‚îú‚îÄ‚îÄ scene1.lua
   ‚îú‚îÄ‚îÄ save.json             # –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
   ```

---

## üìå **–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ü–µ–Ω**
### üîπ **–§–∞–π–ª —Å—Ü–µ–Ω—ã (JSON)**
–ö–∞–∂–¥–∞—è —Å—Ü–µ–Ω–∞ ‚Äî —ç—Ç–æ JSON-—Ñ–∞–π–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

#### **–ü—Ä–∏–º–µ—Ä: `scenes/scene1.json`**
```json
{
    "id": 1,
    "text": "I'm gently opening the door.",
    "person": "You",
    "background": "images/nah.webp",
    "script": "scripts/scene1.lua"
}
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `id` ‚Äî –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä —Å—Ü–µ–Ω—ã.
- `text` ‚Äî —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π —É–≤–∏–¥–∏—Ç –∏–≥—Ä–æ–∫.
- `person` ‚Äî –∏–º—è –≥–æ–≤–æ—Ä—è—â–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.
- `background` ‚Äî –ø—É—Ç—å –∫ —Ñ–æ–Ω–æ–≤–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é (—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ ASCII).
- `script` ‚Äî Lua-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ª–æ–≥–∏–∫–∏ —Å—Ü–µ–Ω—ã.

---

## üìù **Lua-—Å–∫—Ä–∏–ø—Ç—ã**
Lua-—Å–∫—Ä–∏–ø—Ç—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –∏–∑–º–µ–Ω—è—Ç—å —Å—Ü–µ–Ω—É, –¥–æ–±–∞–≤–ª—è—Ç—å –≤—ã–±–æ—Ä—ã, –∞ —Ç–∞–∫–∂–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –¥–≤–∏–∂–∫–æ–º.

### **–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è Lua**
#### **–ü—Ä–∏–º–µ—Ä —Å–∫—Ä–∏–ø—Ç–∞ `scripts/scene1.lua`**
```lua
function modify_scene(scene)
    if scene.id == 1 then
        scene.text = scene.text .. " But something feels off..."
        scene.person = "Narrator"
    end
    return scene
end
```
–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- –î–æ–±–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç –∫ —Å—Ü–µ–Ω–µ **–ø—Ä–∏ –µ—ë –∑–∞–≥—Ä—É–∑–∫–µ**.
- –ú–µ–Ω—è–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –∫–æ—Ç–æ—Ä—ã–π –≥–æ–≤–æ—Ä–∏—Ç —Ç–µ–∫—Å—Ç.

---

## üî• **–î–≤–∏–∂–æ–∫ –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ Lua!**
Lua-—Å–∫—Ä–∏–ø—Ç—ã –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –¥–≤–∏–∂–∫–∞ **—á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç `engine`**.

### **–ü—Ä–∏–º–µ—Ä—ã –≤—ã–∑–æ–≤–æ–≤:**
```lua
-- –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ü–µ–Ω—É –≤—Ä—É—á–Ω—É—é
engine.custom_scene(2)  -- –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å—Ü–µ–Ω–µ 2

-- –í—ã–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –≤ –∫–æ–Ω—Å–æ–ª—å
engine.console.print("[bold red]Critical Error![/]")

-- –í—ã–π—Ç–∏ –∏–∑ –∏–≥—Ä—ã
engine.exit()
```

### **–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `engine.exit()` | –ó–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É –¥–≤–∏–∂–∫–∞. |
| `engine.console.print(text)` | –í—ã–≤–æ–¥–∏—Ç `text` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Markdown). |
| `engine.next_scene()` | –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ü–µ–Ω–µ. |
| `engine.prev_scene()` | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–≥—Ä–æ–∫–∞ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å—Ü–µ–Ω—É. |
| `engine.custom_scene(id)` | –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –∏–≥—Ä–æ–∫–∞ –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é `id` —Å—Ü–µ–Ω—É. |
| `engine.render()` | –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Ç–µ–∫—É—â—É—é —Å—Ü–µ–Ω—É. |

---

## üé≠ **–í—ã–±–æ—Ä—ã –∏ –≤–µ—Ç–≤–ª–µ–Ω–∏—è**
–í—ã–±–æ—Ä—ã –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ `scene.choices` –≤ Lua.

### **–ü—Ä–∏–º–µ—Ä –≤—ã–±–æ—Ä–∞:**
```lua
function modify_scene(scene)
    if scene.id == 1 then
        scene.text = "You stand before a dark door. What do you do?"
        scene.choices = {
            { text = "Open the door", next_scene = 2 },
            { text = "Walk away", next_scene = 3 }
        }
    end
    return scene
end
```

- `text` ‚Äî —Ç–µ–∫—Å—Ç –≤—ã–±–æ—Ä–∞.
- `next_scene` ‚Äî ID —Å—Ü–µ–Ω—ã, –≤ –∫–æ—Ç–æ—Ä—É—é –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∏–≥—Ä–æ–∫.

---

## üé® **–¢–µ–º—ã (main.theme)**
–§–∞–π–ª `main.theme` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∏–ª—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.

#### **–ü—Ä–∏–º–µ—Ä:**
```json
{
    "text_color": "white",
    "background_color": "black",
    "border_style": "double"
}
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `text_color` ‚Äî —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞.
- `background_color` ‚Äî —Ü–≤–µ—Ç —Ñ–æ–Ω–∞.
- `border_style` ‚Äî —Å—Ç–∏–ª—å —Ä–∞–º–∫–∏.

---

## üíæ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞**
–î–≤–∏–∂–æ–∫ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç** –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ `save.json`.

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:**
```json
{
    "id": 1,
    "text": "I'm gently opening the door.",
    "person": "You",
    "background": "images/nah.webp",
    "choices": {}
}
```
**–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –Ω–æ–≤–æ–π —Å—Ü–µ–Ω—ã.**

---

## üöÄ **–ó–∞–ø—É—Å–∫**
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É:
```sh
python main.py
```
–î–≤–∏–∂–æ–∫ –∑–∞–≥—Ä—É–∑–∏—Ç —Å—Ü–µ–Ω—É –∏ –±—É–¥–µ—Ç –∂–¥–∞—Ç—å –Ω–∞–∂–∞—Ç–∏—è **Enter** –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è.

---

## üé≠ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**
‚úÖ **ASCII-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** üñº  
‚úÖ **–í—ã–±–æ—Ä—ã –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø—É—Ç–∏** üîÄ  
‚úÖ **–ì–∏–±–∫–∞—è –ª–æ–≥–∏–∫–∞ —á–µ—Ä–µ–∑ Lua-—Å–∫—Ä–∏–ø—Ç—ã** ‚ö°  
‚úÖ **–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞** üíæ  

---
